function Flickerplate(a,b){var c=a.charAt(0).toString();if("."===c)for(var d=document.querySelectorAll(a),e=0;e<d.length;e++)new FlickerplateComponent(d[e],b);else"#"===c&&new FlickerplateComponent(document.getElementById(a.substring(1)),b)}function FlickerplateComponent(a,b){if(this.element=a,this.options={arrows:!0,arrowsConstraint:!1,autoFlick:!0,autoFlickDelay:10,dotAlignment:"center",dotNavigation:!0,flickAnimation:"transform-slide",flickPosition:1,theme:"light"},"object"==typeof b)for(var c in b)b.hasOwnProperty(c)&&(this.options[c]=b[c]);this.init()}var tool={addEvent:function(a,b,c){null!=a&&"undefined"!=typeof a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)},classAdd:function(a,b){a.className;-1===a.className.indexOf(b)&&(a.className=""===a.className?b:a.className+" "+b)},classRemove:function(a,b){var c=a.className;c.indexOf(b)>-1&&(a.className=a.className.split(" ").filter(function(a){return a!=b}).toString().replace(/,/g," "))},hasClass:function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},idAdd:function(a,b){a.setAttribute("id",b)},isTouch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},getIndex:function(a){return[].indexOf.call(a.parentNode.children,a)},log:function(a){window.console&&console.log(a)},wrap:function(a,b,c){var d=document.createElement(b),e=a.cloneNode(!0);d.className=c,a.parentNode.insertBefore(d,a).appendChild(e),a.parentNode.removeChild(a)},wrapInner:function(a,b,c){if("string"==typeof b&&(b=document.createElement(b)),void 0!==c){a.appendChild(b).setAttribute("class",c)}else{a.appendChild(b)}for(;a.firstChild!==b;)b.appendChild(a.firstChild)}},$htmlElement=document.getElementsByTagName("html")[0];tool.isTouch()||tool.hasClass($htmlElement,"flick-no-touch")||tool.classAdd($htmlElement,"flick-no-touch"),FlickerplateComponent.prototype={init:function(){function a(){if("scroller-slide"!=v&&1==p){var a=document.createElement("div"),b=document.createElement("div");a.className="arrow-navigation left",b.className="arrow-navigation right",n.insertBefore(a,n.querySelectorAll(".flicks")[0]),n.insertBefore(b,n.querySelectorAll(".flicks")[0]);for(var c=document.querySelectorAll(".arrow-navigation"),e=c.length-1;e>=0;e--)(function(a){c[a].onclick=function(){tool.hasClass(this,"right")?++w>y&&(w=q?y:1):--w<1&&(w=q?1:y),g(),d()}})(e)}}function b(){if("scroller-slide"!=v&&1==u){var a=document.createElement("div"),b=document.createElement("ul");a.className="dot-navigation "+t;for(var c=y-1;c>=0;c--){var d=document.createElement("li"),e=document.createElement("div");e.className=c===y-1?"dot active":"dot",d.appendChild(e),b.appendChild(d)}a.appendChild(b),n.insertBefore(a,n.querySelectorAll(".flicks")[0]);for(var f=n.querySelectorAll(".dot-navigation li"),c=f.length-1;c>=0;c--)f[c].onclick=function(){w=tool.getIndex(this)+1,tool.classRemove(n.querySelector(".dot.active"),"active"),tool.classAdd(this.querySelector(".dot"),"active"),g()}}}function c(){++w>y&&(w=1),g()}function d(){f(),e()}function e(){1==r&&(m=setInterval(c,s))}function f(){1==r&&(m=clearInterval(m))}function g(a){a=a||!1;var b=n.querySelector("ul.flicks"),c=w-1;switch(n.setAttribute("data-flick-position",w),v){case"transform-slide":var d="translate3d(-"+c+"%, 0, 0)";b.setAttribute("style","-webkit-transform:"+d+";-o-transform:"+d+";-moz-transform:"+d+";transform:"+d),C=-c;break;case"transition-fade":for(var e=n.querySelectorAll("li"),f=e.length-1;f>=0;f--)(function(a){tool.classRemove(e[a],"active")})(f);tool.classAdd(b.querySelector("li:nth-child("+w+")"),"active");break;case"transition-slide":b.style.left="-"+c+"00%",B=-(c+"00")}1==u&&0==a&&(tool.classRemove(n.querySelector(".dot.active"),"active"),tool.classAdd(n.querySelector(".dot-navigation li:nth-child("+w+") .dot"),"active"))}function h(){if("function"==typeof Hammer)if("transform-slide"===v||"transition-slide"===v){var a=new Hammer(n.querySelector("ul.flicks"));a.on("panleft panright",function(a){i(a)}),a.on("panend",function(a){j(a)})}else if("transition-fade"===v){var a=new Hammer(n.querySelector("ul.flicks"));a.on("swipeleft swiperight",function(a){l(a)})}}function i(a){f();var b=n.clientWidth,c=n.querySelector("ul.flicks");switch(v){case"transform-slide":$posX=tool.isTouch()?Math.round(a.deltaX/b*1e3)/1e3+C:Math.round(a.deltaX/b*10)/10+C,1==w&&$posX>0?$posX=0:w==y&&-(y-1)>$posX&&($posX=-(y-1)),D="translate3d("+$posX+"%, 0, 0)",c.setAttribute("style","-webkit-transform:"+D+";-o-transform:"+D+";-moz-transform:"+D+";transform:"+D);break;case"transition-slide":$posX=Math.round(a.deltaX/b*100)+B,1==w&&$posX>0?$posX=0:w==y&&100*-(y-1)>$posX&&($posX=-(100*(y-1))),c.style.left=$posX+"%"}}function j(a){var b=a.deltaX;-E>b&&y>w?w++:b>E&&w>1&&w--,setTimeout(function(){g()},10),e()}function k(){tool.classAdd(n,"flickerplate flicker-theme-"+x+" animate-"+v),tool.classAdd(n.getElementsByTagName("ul")[0],"flicks"),n.setAttribute("data-flick-position",w),g(!0);for(var a=n.querySelectorAll("ul.flicks > li"),b=a.length-1;b>=0;b--){y++,tool.wrapInner(a[b],"div","flick-inner"),tool.wrapInner(a[b].querySelectorAll(".flick-inner")[0],"div","flick-content");var c=a[b].getAttribute("data-background")||!1;c!==!1&&(a[b].style.backgroundImage="url("+c+")")}"scroller-slide"!=v&&"jquery-slide"!=v&&"jquery-fade"!=v&&n.addEventListener(A,function(){z=!1})}function l(a){"swipeleft"==a.type?++w>y&&(w=q?y:1):"swiperight"==a.type&&--w<1&&(w=q?1:y),g(),d()}var m,n=this.element,o=this.options,p=n.getAttribute("data-arrows")||o.arrows,q=n.getAttribute("data-arrows-constraint")||o.arrowsConstraint,r=n.getAttribute("data-auto-flick")||o.autoFlick,s=1e3*n.getAttribute("data-flick-delay")||1e3*o.autoFlickDelay,t=n.getAttribute("data-dot-alignment")||o.dotAlignment,u=n.getAttribute("data-dot-navigation")||o.dotNavigation,v=n.getAttribute("data-flick-animation")||o.flickAnimation,w=n.getAttribute("data-flick-position")||o.flickPosition,x=n.getAttribute("data-theme")||o.theme,y=0,z=!1,A="transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd",B=0,C=0,D="translate3d(0, 0, 0)",E=100;k(),a(),b(),e(),h()}};