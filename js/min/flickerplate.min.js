function Flickerplate(a,b){var c=a.charAt(0).toString();if("."===c)for(var d=document.querySelectorAll(a),e=0;e<d.length;e++)new FlickerplateComponent(d[e],b);else"#"===c&&new FlickerplateComponent(document.getElementById(a.substring(1)),b)}function FlickerplateComponent(a,b){if(this.element=a,this.options={arrows:!0,arrowsConstraint:!1,autoFlick:!0,autoFlickDelay:10,dotAlignment:"center",dotNavigation:!0,flickAnimation:"transform-slide",flickPosition:1,theme:"light"},"object"==typeof b)for(var c in b)b.hasOwnProperty(c)&&(this.options[c]=b[c]);this.init()}var tool={addEvent:function(a,b,c){null!=a&&"undefined"!=typeof a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)},classAdd:function(a,b){a.className;-1===a.className.indexOf(b)&&(a.className=""===a.className?b:a.className+" "+b)},classRemove:function(a,b){var c=a.className;c.indexOf(b)>-1&&(a.className=a.className.split(" ").filter(function(a){return a!=b}).toString().replace(/,/g," "))},hasClass:function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},idAdd:function(a,b){a.setAttribute("id",b)},isTouch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},getIndex:function(a){return[].indexOf.call(a.parentNode.children,a)},log:function(a){window.console&&console.log(a)},wrap:function(a,b,c){var d=document.createElement(b),e=a.cloneNode(!0);d.className=c,a.parentNode.insertBefore(d,a).appendChild(e),a.parentNode.removeChild(a)},wrapInner:function(a,b,c){if("string"==typeof b&&(b=document.createElement(b)),void 0!==c){a.appendChild(b).setAttribute("class",c)}else{a.appendChild(b)}for(;a.firstChild!==b;)b.appendChild(a.firstChild)}},$htmlElement=document.getElementsByTagName("html")[0];tool.isTouch()||tool.hasClass($htmlElement,"flick-no-touch")||tool.classAdd($htmlElement,"flick-no-touch"),FlickerplateComponent.prototype={init:function(){function a(){if("scroller-slide"!=u&&1==o){var a=document.createElement("div"),b=document.createElement("div");a.className="arrow-navigation left",b.className="arrow-navigation right",m.insertBefore(a,m.querySelectorAll(".flicks")[0]),m.insertBefore(b,m.querySelectorAll(".flicks")[0]);for(var c=document.querySelectorAll(".arrow-navigation"),e=c.length-1;e>=0;e--)(function(a){c[a].onclick=function(){tool.hasClass(this,"right")?++v>x&&(v=p?x:1):--v<1&&(v=p?1:x),g(),d()}})(e)}}function b(){if("scroller-slide"!=u&&1==t){var a=document.createElement("div"),b=document.createElement("ul");a.className="dot-navigation "+s;for(var c=x-1;c>=0;c--){var d=document.createElement("li"),e=document.createElement("div");e.className=c===x-1?"dot active":"dot",d.appendChild(e),b.appendChild(d)}a.appendChild(b),m.insertBefore(a,m.querySelectorAll(".flicks")[0]);for(var f=m.querySelectorAll(".dot-navigation li"),c=f.length-1;c>=0;c--)f[c].onclick=function(){v=tool.getIndex(this)+1,tool.classRemove(m.querySelector(".dot.active"),"active"),tool.classAdd(this.querySelector(".dot"),"active"),g()}}}function c(){++v>x&&(v=1),g()}function d(){f(),e()}function e(){1==q&&(l=setInterval(c,r))}function f(){1==q&&(l=clearInterval(l))}function g(a){a=a||!1;var b=m.querySelector("ul.flicks"),c=v-1;switch(m.setAttribute("data-flick-position",v),u){case"transform-slide":var d="translate3d(-"+c+"%, 0, 0)";b.setAttribute("style","-webkit-transform:"+d+";-o-transform:"+d+";-moz-transform:"+d+";transform:"+d),B=-c;break;case"transition-fade":for(var e=m.querySelectorAll("li"),f=e.length-1;f>=0;f--)(function(a){tool.classRemove(e[a],"active")})(f);tool.classAdd(m.querySelector("li:nth-child("+v+")"),"active");break;case"transition-slide":b.style.left="-"+c+"00%",A=-(c+"00")}1==t&&0==a&&(tool.classRemove(m.querySelector(".dot.active"),"active"),tool.classAdd(m.querySelector(".dot-navigation li:nth-child("+v+") .dot"),"active"))}function h(){if("function"==typeof Hammer&&("transform-slide"===u||"transition-fade"===u||"transition-slide"===u)){var a=new Hammer(m.querySelector("ul.flicks"));a.on("panleft panright",function(a){i(a)}),a.on("panend",function(a){j(a)})}}function i(a){f();var b=m.clientWidth,c=m.querySelector("ul.flicks");switch(u){case"transform-slide":$posX=tool.isTouch()?Math.round(a.deltaX/b*1e3)/1e3+B:Math.round(a.deltaX/b*10)/10+B,1==v&&$posX>0?$posX=0:v==x&&-(x-1)>$posX&&($posX=-(x-1)),C="translate3d("+$posX+"%, 0, 0)",c.setAttribute("style","-webkit-transform:"+C+";-o-transform:"+C+";-moz-transform:"+C+";transform:"+C);break;case"transition-slide":$posX=Math.round(a.deltaX/b*100)+A,1==v&&$posX>0?$posX=0:v==x&&100*-(x-1)>$posX&&($posX=-(100*(x-1))),c.style.left=$posX+"%"}}function j(a){var b=a.deltaX;-D>b&&x>v?v++:b>D&&v>1&&v--,setTimeout(function(){g()},10),e()}function k(){tool.classAdd(m,"flickerplate flicker-theme-"+w+" animate-"+u),tool.classAdd(m.getElementsByTagName("ul")[0],"flicks"),m.setAttribute("data-flick-position",v),g(!0);for(var a=m.querySelectorAll("ul.flicks > li"),b=a.length-1;b>=0;b--){x++,tool.wrapInner(a[b],"div","flick-inner"),tool.wrapInner(a[b].querySelectorAll(".flick-inner")[0],"div","flick-content");var c=a[b].getAttribute("data-background")||!1;c!==!1&&(a[b].style.backgroundImage="url("+c+")")}"scroller-slide"!=u&&"jquery-slide"!=u&&"jquery-fade"!=u&&m.addEventListener(z,function(){y=!1})}var l,m=this.element,n=this.options,o=m.getAttribute("data-arrows")||n.arrows,p=m.getAttribute("data-arrows-constraint")||n.arrowsConstraint,q=m.getAttribute("data-auto-flick")||n.autoFlick,r=1e3*m.getAttribute("data-flick-delay")||1e3*n.autoFlickDelay,s=m.getAttribute("data-dot-alignment")||n.dotAlignment,t=m.getAttribute("data-dot-navigation")||n.dotNavigation,u=m.getAttribute("data-flick-animation")||n.flickAnimation,v=m.getAttribute("data-flick-position")||n.flickPosition,w=m.getAttribute("data-theme")||n.theme,x=0,y=!1,z="transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd",A=0,B=0,C="translate3d(0, 0, 0)",D=100;k(),a(),b(),e(),h()}};